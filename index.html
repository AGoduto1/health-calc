<!DOCTYPE html>
<html lang="en">

<!--
    Author: Angelo Goduto
    Project: Insurance -- AAG
    Credit: Eric Pogue

    All rights reserved.
-->

<head>
    <meta charset="UTF-8">
    <title>Insurance with Angelo Goduto</title>
    <link rel="stylesheet" href="insurance.css">
    <script src="insurance.js"></script>   
</head>

<body style="background-color:#E6E2DD;"></body>

<body>
    <center><h1>Insurance with Angelo Goduto</h1></center>
    <p><b style="text-align:center;"> </b></p> 
        <br /><br />
    <h2>Instructions...</h2>
<p> </p>

<!-- This is where I asked questions to the user.-->

    <label>Country is the best music.</label><br />
    <select id="q1">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select>
    <br /><br />

    <label>Texting is the best way to communicate.</label><br />
    <select id="q2">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select>
    <br /><br />

    <label>Hockey is the greatest sport.</label><br />
    <select id="q3">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select>
    <br /><br />

    <label>HTML is the best language to use</label><br />
    <select id="q4">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select>
    <br /><br />

    <label>Money Hesit (Netflix) is the best show on tv.</label><br />
    <select id="q5">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select>
    <br /><br />

    <br /><br /><br />
    <button onclick="calculateCompatibility()">Calculate Compatibility</button>
    <p id="compatibility"></p>

<script>
console.log("Starting Matchmaker Lite...");

// This is where my script begins.

function calculateCompatibility() {
    console.log("calculateCompatibility()");

// Below are how I want people to answer my questions

    const DESIRED_RESPONSE = [
        4, /* Agree */
        1, /* Strongly Disagree */
        5, /* Strongly Agree */
        4, /* Agree */
        5, /* Strongly Agree */
    ]

// These are my questions weighted.

    const ANSWER_WEIGHT = [
        1, // Country isn't the best but I enjoy it so it doesn't make or break
        3, // I prefer to talk on the phone the most.
        5, // Hockey is very important to me.
        1, // HTML is okay.
        1, // Money Hesit is a good show but not that important.
    ]

    const MAX_SCORE = 55;

// This script will show in the inspection tools.

    let question1Response = document.getElementById("q1").selectedOptions[0].value;
    let question2Response = document.getElementById("q2").selectedOptions[0].value;
    let question3Response = document.getElementById("q3").selectedOptions[0].value;
    let question4Response = document.getElementById("q4").selectedOptions[0].value;
    let question5Response = document.getElementById("q5").selectedOptions[0].value;

    console.log("Question 1 Answers:");
    console.log(document.getElementById("q1").selectedOptions[0].text);
    console.log(document.getElementById("q1").selectedOptions[0].value);
    console.log(question1Response);

    console.log("Question 2 Answers:");
    console.log(document.getElementById("q2").selectedOptions[0].text);
    console.log(document.getElementById("q2").selectedOptions[0].value);
    console.log(question2Response);

    console.log("Question 3 Answers:");
    console.log(document.getElementById("q3").selectedOptions[0].text);
    console.log(document.getElementById("q3").selectedOptions[0].value);
    console.log(question3Response);

    console.log("Question 4 Answers:");
    console.log(document.getElementById("q4").selectedOptions[0].text);
    console.log(document.getElementById("q4").selectedOptions[0].value);
    console.log(question4Response);

    console.log("Question 5 Answers:");
    console.log(document.getElementById("q5").selectedOptions[0].text);
    console.log(document.getElementById("q5").selectedOptions[0].value);
    console.log(question5Response);

// This is where the math is done.

    let question1Compatibility = 5 - Math.abs(question1Response - DESIRED_RESPONSE[0]);
    question1Compatibility = question1Compatibility * ANSWER_WEIGHT[0]
    let question2Compatibility = 5 - Math.abs(question2Response - DESIRED_RESPONSE[1]);
    question2Compatibility = question2Compatibility * ANSWER_WEIGHT[1]
    let question3Compatibility = 5 - Math.abs(question3Response - DESIRED_RESPONSE[2]);
    question3Compatibility = question3Compatibility * ANSWER_WEIGHT[2]
    let question4Compatibility = 5 - Math.abs(question4Response - DESIRED_RESPONSE[3]);
    question4Compatibility = question4Compatibility * ANSWER_WEIGHT[3]
    let question5Compatibility = 5 - Math.abs(question5Response - DESIRED_RESPONSE[4]);
    question5Compatibility = question5Compatibility * ANSWER_WEIGHT[4]

    console.log("c1=+"+question1Compatibility);
    console.log("c2=+"+question2Compatibility);
    console.log("c3=+"+question3Compatibility);
    console.log("c4=+"+question4Compatibility);
    console.log("c5=+"+question5Compatibility);

    // Calculated total compatibility.
    let totalCompatibility = question1Compatibility + question2Compatibility + question3Compatibility + question4Compatibility + question5Compatibility; 

    // Convert totalCompatibility to a percentage.
    totalCompatibility *= 100 / MAX_SCORE;
    totalCompatibility = Math.round(totalCompatibility);
    console.log("tc="+ totalCompatibility);

    document.getElementById("compatibility").innerHTML = "Your compatibility is "+ totalCompatibility;

// Below I was trying to show total compatibility and display if we're compatibile. I couldn't seem to
// understand how to do this with Java. I kept trying, but I couldn't figure out the function.

    // if ((totalCompatibility) >= 85)
    // document.getElementById("I think you're the perfect match. What's your phone number?");

    //else if ((totalCompatiblity) >= 65)
    // document.getElementById("Maybe there's a view things we can change to make it better.")

    // else if ((totalCompatiblity) >= 40);
    // document.getElementById("I guess we should be seeing other people.");

    // else if ((totalCompatiblity) >= 0)
    // document.getElementById("Please don't talk to me...")

}

</script>

</body>
</html>